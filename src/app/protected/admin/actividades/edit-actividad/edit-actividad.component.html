<div class="container">
  <h1 *ngIf="!isAdmin();else mas">{{'Informacion sobre'|translate}}  {{actividad.nombre}} </h1>
  <ng-template #mas> <h1>{{'Editando'|translate}} {{actividad.nombre}}</h1></ng-template>

    <hr />
    <form [formGroup]="miFormulario" (ngSubmit)="editarActividad()" autocomplete="off" >
      <div class="mb-3">
        <label for="nombre" class="form-label"
          >{{'Nombre'|translate}}:
        </label>
        <input 
          [ngClass]="{ 
            'is-invalid': campoNoValido('nombre')
          }"
          formControlName="nombre"
          type="text"
          class="form-control"
          id="nombre"
        />
        <span
          class="form-text text-danger fst-italic"
          *ngIf="campoNoValido('nombre')"
        >
        {{'El nombre es requerido'|translate}}
        </span>
      </div>
      <div class="mb-3">
        <span>{{'Qué monitor impartira la actividad'|translate}}?:</span>  
        <select class="form-select mt-2" formControlName="email_monitor"  [ngClass]="{
          'is-invalid': campoNoValido('email_monitor')
        }">
          <option value="null">{{'Seleccione un monitor'|translate}} ...</option>
          <option *ngFor="let monitor of monitores" [value]="monitor.email">
            {{ monitor.nombre | titlecase }}
            {{ monitor.apellido1 | titlecase }} 
            {{ monitor.apellido2 | titlecase }}
          </option>
        </select>
        <span
          class="form-text text-danger fst-italic"
          *ngIf="campoNoValido('email_monitor') || this.miFormulario.get('email_monitor')?.value=='null'"
        >
        {{'El monitor es requerido'|translate}}
        </span>
      </div>
      <div class="mb-3">
        <span>{{'¿Que tarifa minima incluira dicha actividad'|translate}}?:</span>  
        <select class="form-select mt-2" formControlName="id_tarifa"  [ngClass]="{
          'is-invalid': campoNoValido('id_tarifa')
        }">
          <option value="null">{{'Seleccione una tarifa'|translate}} ...</option>
          <option *ngFor="let tarifa of tarifas" [value]="tarifa.id">
            {{ tarifa.nombre | titlecase }}
          </option>
        </select>
        <span
          class="form-text text-danger fst-italic"
          *ngIf="campoNoValido('id_tarifa') || this.miFormulario.get('id_tarifa')?.value=='null'"
        >
        {{'La tarifa es requerida'|translate}}

        </span>
      </div>
      <div class="mb-3">
        <label for="exampleFormControlTextarea1" class="form-label mt-3"
          >{{'Descripcion'|translate}}:
        </label>
        <textarea
          [ngClass]="{
            'is-invalid': campoNoValido('descripcion')
          }"
          class="form-control"
          id="exampleFormControlTextarea1"
          rows="6"
          formControlName="descripcion"
        ></textarea>
        <span
          class="form-text text-danger fst-italic"
          *ngIf="campoNoValido('descripcion')"
        >
        {{'El descripcion de la actividad es requerida'|translate}}
        </span>
      </div>

      <div *ngIf="actividad.imagen" class="col text-center">
        <img
          [src]="actividad.imagen! | imagen"
          class="img-fluid img-thumbnail"
          style="width: 400px; height: 400px"
        />
      </div>
    
    
      <div class="my-3">
        <div class="mb-0" *ngIf="previsualizacion">
          <img [src]="previsualizacion" style="width: 300px; height: 300px" />
        </div>
    
        <label for="formFile" class="form-label">{{'Imagen'|translate}}:</label>
        <input
          id="formFile"
          [formControl]="file"
          (change)="fileChange($event)"
          type="file"
          placeholder="File"
          class="form-control"
        />
      </div>
      <div class="mb-3">
        <label for="d" class="form-label">{{'Color de referencia'|translate}}: </label>
        <input
          formControlName="color"
          type="text"
          class="form-control"
          id="d"
        />
      </div>
      <button type="button" class="btn btn-danger mx-3" routerLink="actividades">
        <i class="fas fa-arrow-circle-left"></i>
        {{'Volver atrás'|translate}}
      </button>
      <button *ngIf="isAdmin()"
        type="submit"
        [disabled]="miFormulario.invalid"
        class="btn btn-primary"
      >
        {{'Editar actividad'|translate}}
      <i class="fas fa-edit"></i>

      </button>
    </form>
    </div>